<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projet IFT3150 | Lino</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <header class="page-header">
        <img style="display: block" src="images/logo.png" height="150" alt="Logo Lino" />
        <h1 class="page-title">
            IFT3150 &ndash; Projet informatique
        </h1>
        <ul class="bare-list contributors" style="font-size: 1.1em;">
            <li class="contributor">Hoang QUAN TRAN</li>
            <li class="contributor">Oscar LAVOLET</li>
            <li class="contributor">Nathan Riantsoa RAZAFINDRAKOTO</li>
            
        </ul>
        
        <ul class="bare-list docs">
            <li class="doc">
                <a target="_blank" href="https://github.com/ceduni/lino">Répertoire GitHub <img src="images/github-mark-white.svg" alt="Logo GitHub"></a>
            </li>
            <!-- <li>
                <a class="bare-link doc-link" href="https://ceduni.github.io/cafe-sans-fil/livrables/presentation.pdf">
                    Présentation
                </a>
            </li> -->
            <!-- <li>
                <a class="bare-link doc-link"
                    href="https://ceduni.github.io/cafe-sans-fil/livrables/rapport.pdf">Rapport</a>
            </li> -->
        </ul>
    </header>

    <main class="page-body">
        <header class="content-wrapper">
            <h2>Description du projet</h2>
            
            <p>
                Lino est un projet visant à
                <strong>
                    bonifier l'initiative des boîtes à livres et encadrer les activités littéraires de la communauté
                    étudiante</strong>.Initié par le <a href="https://www.clubdelectureudem.com/" title="club de lecture de l'Université de Montréal">CLUM</a> à l'automne 2023, 
                    le projet des boîtes à livres sert à promouvoir les échanges et partages au sein de la communauté étudiante. 
                    Installés dans plusieurs pavillons du campus, elles permettent à tous de trouver et se procurer des livres gratuitement et 
                    réduisent potentiellement le gaspillage en encourageant les étudiants à échanger leurs livres.
            </p>

            <!-- Problématique -->
            <p>
                Cependant, l'infrastructure actuelle limite la portée de l'initiative...
            </p>		

            <!-- Proposition -->
            <p>Ce projet consiste à concevoir une application répondant aux objectifs suivants:</p>
            <ul>
                <li>
                    <b>Faciliter le repérage des boîtes à livre:</b>L'application doit fournir une carte avec des
                    mécanismes de recherche et tri facilitant le repérage des boîtes à livre.
                </li>
                <li>
                    <b>Assurer les échanges et la recherche de livre:</b>L'application doit permettre aux étudiants de
                    soumettre des requêtes et notifier le réseau lors de l'ajout d'un livre.
                </li>
                <li>
                    <b>Développer la structure du réseau:</b>L'application doit permettre aux étudiants d'exprimer leurs
                    préférences littéraires et simplifier leur mise en relation.
                </li>
                <li>
                    <b>Encadrer l'organisation d'activités littéraires:</b>L'application doit faciliter l'organisation
                    et la communication d'activités et d'évènements littéraires.
                </li>
            </ul>

        </header>

        
        <section class="content-wrapper">
            <h2>Exigences</h2>

            <h3>Besoins fonctionnels</h3>
            <ul>
                <li>Pouvoir configurer une alerte pour être notifié lorsque X livre est inséré / enlevé dans une boite à livres du campus</li>
                <li>Pouvoir connaitre les livres dans la boite à livres</li>
                <li>Pouvoir connaître les statistiques sur chaque livre (ratio de prêt par rapport au temps, nombre de prêts)</li>
                <li>Pouvoir générer/participer à un thread de discussion sur chaque livre emprunté qui disparaît lorsque aucune transaction n'a été faite sur le livre depuis au moins 60 jours</li>
                <li>Pouvoir inscrire un livre dans l'inventaire d'une boîte à livres en scannant/inscrivant son ISBN</li>
            </ul>

            <h3>Besoins non-fonctionnels</h3>
            <ul>
                <li>La plateforme est disponible 24/7</li>
                <li>La plateforme est sécurisée</li>
                <li>Les données des boîtes à livres sont à jour et précises au moins 95% du temps</li>
                <li>L'application est facile d'utilisation pour tout public</li>
                <li>L'application n'est pas très dépendante en ressources pour les téléphones</li>
            </ul>

        </section>

        <section class="content-wrapper">
            <h2>Infrastructure</h2>
                <h4 class="title">Design</h4>
                <p> 
                    <a href="https://miro.com/app/board/uXjVKEYr8RA=/"> lien vers le Miro du design</a>
                </p>

            <!-- TODO: Décrire l'infrastructure de l'application -->
        </section>

        <section class="content-wrapper progress-section">
            <header class="progress-section-header">
                <h2 style="font-size: 3.3em; font-weight: 800;">Rapport d'avancement</h2>
                <ul class="bare-list phases">
                    <li class="phase fit-content current" title="Exigences & Analyse">Exigences & Analyse</li>
                    <li class="phase fit-content" title="Prototypage & Conception">Prototypage & Conception</li>
                    <li class="phase fit-content" title="Implémentation: Infrastructure & Application">Implémentation: Infrastructure & Application</li>
                    <li class="phase fit-content" title="Validation">Validation</li>
                </ul>
                <div class="timeline"></div>
            </header>

            <section class="week">
                <header class="week-header">
                    <h3 class="week-title">Semaine 1 &ndash;
                        <time datetime="2024-05-06">mercredi 8 mai 2024</time>
                    </h3>
                    <p>Ouverture de projet & Élaboration des exigences</p>
                </header>
                <div class="week-content">
                    <h4 class="title">Objectifs</h4>
                    <ul>
                        <li>Prendre en main les outils qui seront utilisés pour le projet</li>
                        <li>Produire une première version de l'échéancier</li>
                        <li>Déterminer les exigences du projet</li>
                        <li>Étudier le domaine, les notions et outils envisagés pour le projet</li>
                    </ul>

                    <h4 class="title">Réalisations</h4>
                    <ul>
                        <li>Déterminer le public ciblé</li>
                        <li>Dresser une liste non exhaustive des exigences</li>
                        <li>Comprendre le domaine</li>
                        <li>Choisir la technologie pour la base de données (MongoDB)</li>
                    </ul>

                    <h4 class="title">Notes</h4>
                    <p> 
                        Discussions sur la portée du projet, voir quelques projets similaires , quelques fonctionnalitées, 
                        exigences ou technologies utilisées (NFC, airtags).
                        Evocation d'aide de personnes extérieurs ( principalement pour aider à avoir un retour sur le design et le ressenti de l'application )
                        Discussions pour avoir un ordre d'idée des fondements principaux à avoir le plus tôt possible dans le projet ( avoir les sketchs papier, avoir les buts UI / UX et les exigences)
                    </p>
                </div>
            </section>

            <section class="week">
                <header class="week-header">
                    <h3 class="week-title">Semaine 2 &ndash;
                        <time datetime="2024-05-13">mercredi 15 mai 2024</time>
                    </h3>
                    <p>Finalisation des exigences et public cible</p>
                </header>
                <div class="week-content">
                    <h4 class="title">Exigences</h4>
                    <ul>
                        <li> recevoir une notification lorsque X livre est insere / enleve dans une boite a livre du campus </li>
                        <li>Connaitre les livres dans la boite a livre </li>
                        <li>Statistiques sur les livres (fréquence de transfert, categories les plus populaires, nombre de livre, analytiques en general)</li>
                        <li> possibilte de feedback sur l application </li>
                        <li> possibilte de feedback sur l application sur les livres </li>
                        <li> bouton d action flottant avec des actions importantes ( acces a la camera, laisser une review ) </li>
                        <li> carte avec toutes les boites a livre du campus </li>
                    </ul>

                    <h4 class="title">Public cible et partis intéressés</h4>
                    <ul>
                        <li> Personnel étudiant et de l université</li>
                        <li> Mairie de Montreal </li>
                        <li> Personne lambda (sans affiliation à l'université) </li>
                        <li> Gérant de la boite à livres / personnel gérant bénévole </li>
                    </ul>

                    <h4 class="title">Notes</h4>
                    <p> 
                        Discussions sur le "feel" de l'application : devrait être éphémère, passager comme les livres dans la boîte, 
                        les discussions et threads sur les livres sont supprimés après un certain temps d inactivité
                        La palette de couleur sera basée sur les couleurs LINO
                        Discussions sur les applications de la technologie NFC
                    </p>
                    <p>
                        Partage d'un crash course pour le développement de backend : <a href="https://theodinproject.com/">The Odin Project</a>
                    </p>
                </div>
            </section>
            
            <section class="week">
                <header class="week-header">
                    <h3 class="week-title">Semaine 3 &ndash;
                        <time datetime="2024-05-13">mercredi 22 mai 2024</time>
                    </h3>
                    <p> Premières discussions sur le design et l'architecture </p>
                </header>
                <div class="week-content">
                    <h4 class="title">Design</h4>
                        <!-- TODO METTRE PHOTO DU TABLEAU ICI -->
                    <p> 
                        <a href="https://miro.com/app/board/uXjVKEYr8RA=/"> lien vers le Miro du design</a>
                    </p>

                    <h4 class="title">Infrastructure</h4>
                    <ul>
                        <li> Flutter </li>
                        <li> MongoDBl </li>
                        <li> NodeJS </li>
                        <li> Typescript </li>
                        <li> Fastify </li>
                    </ul>

                    <h4 class="title">Écologie</h4>
                    <p> 
                        Encourrager l'utilisation de l'application en amenant edes statistiques sur les arbres sauvés 
                        (consommation de papier évitée en n'ayant pas acheté le livre)
                    </p>

                    <h4 class="title">Notes</h4>
                    <p> 
                        Création du serveur MongoDB
                        Notes incomplètes, discussions sur le design de l'interface, difficile à noter
                        Important : pouvoir justifier le choix de chacune des technologies de l'infrastructure nommés précédement
                    </p>
                    <p>
                        Création et suppression d'une branche "Proto-Flutter" pour tester rapidement le prototype de l'API avec Flutter, et pour l'apprentissage
                    </p>
                    <p>
                        Suivi d'un tutoriel pour apprendre à utiliser Flutter : <a href="https://codelabs.developers.google.com/codelabs/flutter-codelab-first#0">lien</a>
                    </p>
                </div>
            </section>

            <section class="week">
                <header class="week-header">
                    <h3 class="week-title">Semaine 4 &ndash;
                        <time datetime="2024-05-13">mercredi 29 mai 2024</time>
                    </h3>
                    <p> Première itération du design et backend </p>
                </header>
                <div class="week-content">

                    <h4 class="title"> schemas Backend </h4>
                    <p>
                        Nathan a implémenté différents schémas de donnés sur divers objets, voir la liste ci-dessous
                    </p>


                    <h5 class="title"> Livres </h5>
                    <ul> 
                        <li> ISBN - String </li>
                        <li> Titre - String, required  </li>
                        <li> description - String </li>
                        <li> coverImage - String </li>
                        <li> Authors - [String] </li>
                        <li> publisher - String </li>
                        <li> Categories - [String] </li>
                        <li> parutionYear - Number </li>
                        <li> pataken_history : [{ username: String, timestamp: { type: Date, default: Date.now}] </li>
                        <li> given_history: [{ username: String, timestamp: { type: Date, default: Date.now } }] </li>
                        <li> date_last_action: { type: Date, default: Date.now } </li>
                    </ul>

                    <h5 class="title"> Livres </h5>
                    <ul> 
                        <li> location - Number </li>
                        <li> infoText - String  </li>
                        <li> books: [{ type: mongoose.Schema.Types.ObjectId, ref: 'Book' }] </li>
                    </ul>

                    <h5 class="title"> Réaction </h5>
                    <p>
                        Les réactions sont prévues pour ajouter de la saveur et de la vie aux messages des threads, l'icône de la réaction est une String car c'est un path vers le fichier de l'icône de la réaction
                    </p>
                    <ul> 
                        <li> react_icon : {type: String, required: true} </li>
                        <li> username : {type: String, required: true} </li>
                    </ul>

                    <h5 class="title"> Message </h5>
                    <p>
                        Utilisé dans les threads aussi, la structure des messages : 
                    </p>
                    <ul> 
                        <li> username: { type: String, required: true } </li>
                        <li> timestamp: { type: Date, default: Date.now } </li>
                        <li> content: { type: String, required: true }   </li>
                        <li> reactions : {type: [reactSchema], default: []} </li>
                        <li> responds_to : {type: String, default: ''} </li>
                    </ul>
                    
                    <h5 class="title"> Thread </h5>
                    <p>
                        Un thread doit absolument contenir <b> le nom de l'utilisateur qui a posté le thread </b>, <b> le nom du livre concerné </b> et <b> un titre </b>, comme détaillé dans la structure plus bas
                    </p>
                    <ul> 
                        <li> book_title: { type: String, required: true } </li>
                        <li> username: { type: String, required: true } </li>
                        <li> title: { type: String, required: true }   </li>
                        <li> timestamp: { type: Date, default: Date.now } </li>
                        <li> messages: { type: [messageSchema], default: [] </li>
                    </ul>

                    <h5 class="title"> Utilisateur </h5>
                    <ul> 
                        <li> username: { type: String, required: true, unique: true } </li>
                        <li> email : { type: String, required: true, unique: true } </li>
                        <li> phone: {type: String}  </li>
                        <li> favoriteBooks: [String] </li>
                        <li> trackedBooks: [mongoose.Schema.Types.ObjectId] </li>
                        <li> preferredCategories: [String], </li>
                        <li> preferredAuthors: [String] </li>
                        <li> ecologicalImpact </li>
                        <ul>
                            <li> carbonSavings: { type: Number, default: 0 } </li>
                            <li> savedWater: { type: Number, default: 0 } </li>
                            <li> savedTrees: { type: Number, default: 0 } </li>
                        </ul>
                    </ul>
                    <p>
                        Le mot de passe sera hashé selon l'algorythme ...  
                            <br>
                        Le "savedTrees" est discuté car avec un arbre, on peut produire en moyenne 196 livre par arbre 
                        (<a href="https://www.recyclivre.com/page/chiffres"> source </a>), ce n'est donc pas un indicateur pertinent
                            <br>
                        "Tracked books" sont les livres que l'utilisateur a demandé à la communauté ou marqué comme étant désiré, une notification apparaîtra sur son 
                        appareil quand ce livre arrivera dans une boîte à livre
                    </p>

                    <br>

                    <h5 class="title"> Fonctions implémentées (livres) </h5>
                    <ul> 
                        <li> getBookfromBookBox </li>
                        <p> recupère livre d'une des bookBoxs en utilisant son id </p>

                        <li> addExistingBook </li>
                        <p> Ajoute un livre en utilisat son id </p>

                        <li> updateEcoImpact </li>
                        <p> ajoute au compte de l'utilisateur l'eau, les arbres et l'impact carbone sauvé par le livre qu'il a emprunté ou déposé, il ne peut pas utiliser deux fois le même livre </p>

                        <li> updateBooks </li>
                        <p> Met à jour les livres dans une BookBox </p>

                        <li> getBooksFromISbn </li>
                        <p> fetch un livre avec googleAPI et l'ISBN donné  </p>

                        <li> searchBooks </li>
                        <p> filtre les livres selon plusieurs critères </p>
                    </ul>          
                    
                    <h5 class="title"> Fonctions implémentées (threads) </h5>
                    <ul> 
                        <li> createThread </li>
                        <p> Crée un thread avec un titre, un livre, username, etc. </p>

                        <li> addThreadMessage </li>
                        <p> Ajoute un message à un thread </p>

                        <li> toggleMessageReaction </li>
                        <p> find the thread, message, then add the reaction </p>

                        <li> searchThreads </li>
                        <p> Selon des critères,  </p>

                        <li> getBooksFromISbn </li>
                        <p> fetch un livre avec googleAPI et l'ISBN donné  </p>

                        <li> searchBooks </li>
                        <p> filtre les livres selon plusieurs critères </p>
                    </ul>      

                    <h5 class="title"> Fonctions implémentées (utilisateur) </h5>
                    <ul> 
                        <li> loginUser </li>
                        <p> vérifie si l'utilisateur entré correspond au mot de passe et donne log in l'uitlisateur via un token </p>

                        <li> addToFavourites </li>
                        <p> ajoute un livre aux favoris de l'utilisateur </p>

                        <li> removeFromFavourites </li>
                        <p> enlève un livre des favoris de l'utilisateur </p>

                        <li> getFavourites </li>
                        <p> Renvoie les favoris </p>

                        <li> getEcologicalImpacct </li>
                        <p> renvoie l'impact écologique </p>

                        <li> getUserName </li>
                        <p> ernvoie le nom d'utilisateur par l'id d'utilisateur </p>
                    </ul>   

                    <br>
                    <br>

                    <h4 class="title"> Première itération du design </h4>
                    <img style="display:-ms-grid" src="images/design_version_1.png" width="1000"  alt="Logo Lino" />

                    <br>
                    <br>    

                    <h4 class="title">Notes</h4>
                    <p> 
                        Refresh tokens
                            <br>
                        Ne pas oublier la technologie NFC 
                            <br>
                        Ajouter des recommendations quand l'on emprunte un livre ou quand l'on en recherche un
                            <br>
                        Ajouter un feedback après le fetch des informations du livres avec google lens
                    </p>
                </div>
            </section>

            <section class="week">
                <header class="week-header">
                    <h3 class="week-title">Semaine 5 &ndash;
                        <time datetime="2024-05-13">mercredi 5 juin 2024</time>
                    </h3>
                    <p> Retours sur le design </p>
                </header>
                <div class="week-content">
                    <h4 class="title"> Dernière itération du design</h4>
                    <img style="display:-ms-grid" src="images/design_version_2.png" width="1000"  alt="Logo Lino" />
                    <h4 class="title"> Retours sur le design</h4>
                    <ul>
                        <li> burger menu pas nécessaire, il faut repenser la disposition des éléments </li>
                        <li> La couleur jaunâtre des pages de paramètres est à revoir </li>
                        <li> ajouter des catégories de tri : genre, catégorie </li>
                        <li> Ajouter les pop ups pour la sélection de livre </li>
                        <li> revoir les threads </li>
                        <li> condenser le menu </li>
                    </ul>

                    <h4 class="title">Notes</h4>
                    <p> 
                        Beaucoup de discussions sur le design et un peu sur la portée du projet
                    </p>
                </div>
            </section>

        </section>
    </main>

    <footer class="page-footer">
        <a href="https://github.com/ceduni/lino" target="_blank">Répertoire GitHub</a>
        <p>Dernière mise à jour: 17 mai 2024</p>
    </footer>

    <script>
        const NB_WEEK = 15;
        let projetStart = new Date("2024-05-06");
        let current = (Date.now() - projetStart) / 1000 / 60 / 60 / 24 / 7;
        let progress = Math.round((current/NB_WEEK) * 100);

        let timeline = document.querySelector('.timeline');
        timeline.style.background = `linear-gradient(to right,rgb(var(--accent)), rgb(var(--accent-light)) ${progress}%, #d5d5d5 0%)`;
    </script>
</body>

</html>